(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{130:function(e,t,a){e.exports=a(183)},135:function(e,t,a){},183:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(10),c=a.n(r),l=(a(135),a(118)),i=a(13),s=a(29),d=a(32),u=a(115),p=a(116),E={message:null},m=a(119),f=a(24),g={todos:[],lastId:0},b={open:!1,note:{id:0,title:""}},S=Object(d.combineReducers)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SUCCESS":return Object(f.a)(Object(f.a)({},e),{},{todos:[].concat(Object(m.a)(e.todos),[t.payload]),lastId:t.payload.id});case"GET_SUCCESS":return Object(f.a)(Object(f.a)({},e),{},{todos:t.payload,lastId:t.payload[t.payload.length-1].id?t.payload[t.payload.length-1].id:0});case"DELETE_SUCCESS":return Object(f.a)(Object(f.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==t.payload.id}))});case"UPDATE_SUCCESS":return Object(f.a)(Object(f.a)({},e),{},{todos:e.todos.map((function(e){return e.id===t.payload.id?t.payload:e}))});default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MESSAGE":return{message:t.payload.message};case"ADD_SUCCESS":return{message:"Added"};case"UPDATE_SUCCESS":return{message:"Updated"};case"DELETE_SUCCESS":return{message:"Deleted"};default:return e}},eventBus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_OPEN_EDIT_DIALOG":return Object(f.a)(Object(f.a)({},e),{},{open:t.payload.open,note:t.payload.note});default:return e}}}),h=[p.a],v=Object(d.createStore)(S,{},Object(u.composeWithDevTools)(d.applyMiddleware.apply(void 0,h)),["Use Redux"]),y=a(43),O=a(229);var T=Object(s.b)((function(e){return{message:e.messages.message}}),{})((function(e){var t=o.a.useState(!1),a=Object(y.a)(t,2),r=a[0],c=a[1],l=o.a.useState(""),i=Object(y.a)(l,2),s=i[0],d=i[1];return Object(n.useEffect)((function(){d(e.message),null!==e.message&&c(!0)}),[e.message]),o.a.createElement(O.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:r,autoHideDuration:1e4,onClose:function(){c(!1)},ContentProps:{"aria-describedby":"message-id"},message:s})})),C=a(45),j=a.n(C);j.a.defaults.xsrfHeaderName="X-CSRFTOKEN",j.a.defaults.xsrfCookieName="csrftoken";var D={headers:{"Content-Type":"application/json"}},U=function(e,t){return function(a){a({type:"SET_OPEN_EDIT_DIALOG",payload:{open:e,note:t}})}},_=function(e){return function(t){t({type:"GET_MESSAGE",payload:{message:e}})}},w=a(218),k=a(219),A=a(220),G=a(222),x=a(221),N=Object(w.a)((function(e){return{avatar:{padding:e.spacing(2,2,2,2),background:"#606be2",borderRadius:0,width:"97%"},row:{"&:hover":{background:"#606be2"}}}}));var M=Object(s.b)((function(e){return{todos:e.todos.todos}}),{getTodos:function(){return function(e){j.a.get("http://localhost:8082/api/v1/todos",D).then((function(t){e({type:"GET_SUCCESS",payload:t.data})})).catch((function(t){e({type:"GET_MESSAGE",payload:{message:"Get elements error"}})}))}},setOpen:U})((function(e){var t=N();return Object(n.useEffect)((function(){e.getTodos()}),[]),o.a.createElement(k.a,null,o.a.createElement(A.a,null,e.todos.map((function(a){return o.a.createElement(x.a,{key:a.id,className:t.row,onClick:(n=a,function(t){t.preventDefault(),e.setOpen(!0,n)})},o.a.createElement(G.a,{align:"center"},a.title));var n}))))})),I=a(51),P=a.n(I),R=a(188),B=a(231),L=a(230),W=a(223),J=a(224),F=a(227),q=a(117),H=a.n(q),V=Object(w.a)((function(e){return{avatar:{padding:e.spacing(2,2,2,2),background:"#606be2",borderRadius:0,width:"97%"}}}));var z=Object(s.b)((function(e){return{noteToUpdate:e.eventBus.note,open:e.eventBus.open}}),{deleteTodo:function(e){return function(t){j.a.delete("http://localhost:8082/api/v1/todos/".concat(e),D).then((function(a){t({type:"DELETE_SUCCESS",payload:{id:e}})})).catch((function(e){t({type:"GET_MESSAGE",payload:{message:"Delete element error"}})}))}},updateTodo:function(e,t){return function(a){var n=JSON.stringify({title:t});j.a.put("http://localhost:8082/api/v1/todos/".concat(e),n,D).then((function(n){a({type:"UPDATE_SUCCESS",payload:{id:e,title:t}})})).catch((function(e){a({type:"GET_MESSAGE",payload:{message:"Update element error"}})}))}},setOpen:U,setMessage:_})((function(e){var t,a=V(),n=o.a.useState(""),r=Object(y.a)(n,2),c=r[0],l=r[1],i=function(t){e.setOpen(!1,c)};return o.a.createElement(L.a,{open:e.open,onClose:i},o.a.createElement(W.a,null,o.a.createElement(B.a,{"aria-label":"recipe",className:a.avatar},o.a.createElement(R.a,{variant:"h5"},"Edit Todo"))),o.a.createElement(J.a,null,o.a.createElement(F.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Todo",type:"text",defaultValue:e.noteToUpdate.title,autoFocus:!0,onChange:function(e){l(e.target.value)}}),o.a.createElement(P.a,{onClick:function(t){c?(e.updateTodo(e.noteToUpdate.id,c),e.setOpen(!1,c)):e.setMessage("No new note in text field")},color:"primary"},"Update todo"),o.a.createElement(P.a,{onClick:(t=e.noteToUpdate.id,function(a){e.deleteTodo(t),e.setOpen(!1,c)})},"Delete todo:",e.noteToUpdate.title),o.a.createElement(P.a,{onClick:i},o.a.createElement(B.a,{"aria-label":"recipe",style:{background:"#606be2"}},o.a.createElement(H.a,null)))))})),K=a(232);var X=Object(s.b)((function(e){return{lastId:e.todos.lastId}}),{addTodo:function(e,t){return function(a){var n=JSON.stringify({title:e});j.a.post("http://localhost:8082/api/v1/todos",n,D).then((function(n){a({type:"ADD_SUCCESS",payload:{title:e,id:t}})})).catch((function(e){a({type:"GET_MESSAGE",payload:{message:"Add element error"}})}))}},setMessage:_})((function(e){var t=o.a.useState(""),a=Object(y.a)(t,2),n=a[0],r=a[1];return o.a.createElement(K.a,{display:"flex",flexDirection:"row"},o.a.createElement(F.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Todo",type:"text",defaultValue:n,onChange:function(e){r(e.target.value)}}),o.a.createElement(K.a,{p:2,center:"true"},o.a.createElement(P.a,{onClick:function(t){if(n){var a=e.lastId+1;t.preventDefault(),e.addTodo(n,a)}else e.setMessage("No new note in text field")}},"Add todo")))})),$=a(216),Q=a(226),Y=Object(w.a)((function(e){return{root:{padding:e.spacing(2,1,2,1),margin:e.spacing(10,50,10,50)}}}));function Z(){var e=Y();return o.a.createElement(o.a.Fragment,null,o.a.createElement($.a,{className:e.root},o.a.createElement(X,null),o.a.createElement(Q.a,null),o.a.createElement(M,null),o.a.createElement(z,null)))}var ee=Object(w.a)((function(e){return{avatar:{padding:e.spacing(2,2,2,2),background:"#606be2",borderRadius:0,width:"97%"}}}));function te(){var e=ee();return o.a.createElement(B.a,{"aria-label":"recipe",className:e.avatar},o.a.createElement(R.a,{variant:"h4",className:e.text},"Todos"))}function ae(){return o.a.createElement(s.a,{store:v},o.a.createElement(T,null),o.a.createElement(l.a,null,o.a.createElement(te,null),o.a.createElement(i.c,null,o.a.createElement(i.a,{exact:!0,path:"/",component:Z}),o.a.createElement(i.a,{exact:!0,path:"/list",component:M}),o.a.createElement(i.a,{exact:!0,path:"/add",component:X}))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[130,1,2]]]);
//# sourceMappingURL=main.a48546bc.chunk.js.map